# –û—Ç—á–µ—Ç –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –±–∞–Ω–∫–æ–≤—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
**–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ —Å—á–µ—Ç–∞–º–∏** ‚Äî —ç—Ç–æ CLI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Python, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏. –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–æ–≤, –¥–µ–ø–æ–∑–∏—Ç—ã, —Å–Ω—è—Ç–∏–µ —Å—Ä–µ–¥—Å—Ç–≤, –ø–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏ –∏ –≤–µ–¥–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö** (`models.py`) ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã Account –∏ Transaction
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** (`database.py`) ‚Äî SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞** (`account_manager.py`) ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ —Å—á–µ—Ç–∞–º–∏
- **CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** (`cli.py`) ‚Äî –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
1. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å—á–µ—Ç–æ–≤ —Å –Ω–∞—á–∞–ª—å–Ω—ã–º –¥–µ–ø–æ–∑–∏—Ç–æ–º
2. –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞ (–¥–µ–ø–æ–∑–∏—Ç)
3. –°–Ω—è—Ç–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞
4. –ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏
5. –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞ –∏ –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
6. –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å—á–µ—Ç–æ–≤

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CLI

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–∞
```bash
poetry run bank create-account --name "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤" --type checking --initial-deposit 10000.00 --minimum-balance 1000.00
```

### –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á–µ—Ç–∞
```bash
poetry run bank deposit --account-id 1 --amount 5000.00 --description "–ó–∞—Ä–ø–ª–∞—Ç–∞"
```

### –°–Ω—è—Ç–∏–µ —Å—Ä–µ–¥—Å—Ç–≤
```bash
poetry run bank withdraw --account-id 1 --amount 3000.00 --description "–ü–æ–∫—É–ø–∫–∏"
```

### –ü–µ—Ä–µ–≤–æ–¥ –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏
```bash
poetry run bank transfer --from-account 1 --to-account 2 --amount 2000.00 --description "–ü–µ—Ä–µ–≤–æ–¥ –¥—Ä—É–≥—É"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
```bash
poetry run bank balance --account-id 1
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π —Å—á–µ—Ç–∞
```bash
poetry run bank show-account --account-id 1
```

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –í—ã–±–æ—Ä –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤
–ò–∑ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –±—ã–ª–∏ –≤—ã–±—Ä–∞–Ω—ã 8 —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö, –ø–æ–∫—Ä—ã–≤–∞—é—â–∏—Ö –∫–ª—é—á–µ–≤—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É:

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–∞ —Å –¥–µ–ø–æ–∑–∏—Ç–æ–º** ‚Äî –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
2. **–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞** ‚Äî —Ç–æ—á–Ω–æ—Å—Ç—å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤
3. **–ö–æ–Ω—Ç—Ä–æ–ª—å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞ –ø—Ä–∏ —Å–Ω—è—Ç–∏–∏** ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ–≤–µ—Ä–¥—Ä–∞—Ñ—Ç–∞
4. **–£—Å–ø–µ—à–Ω–æ–µ —Å–Ω—è—Ç–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ª–∏–º–∏—Ç–∞** ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–Ω—è—Ç–∏–π
5. **–ü–µ—Ä–µ–≤–æ–¥—ã –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–µ–Ω–µ–≥ –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–∞—Ö
6. **–ö–æ–Ω—Ç—Ä–æ–ª—å –ª–∏–º–∏—Ç–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–∞—Ö** ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏–π
7. **–î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å—á–µ—Ç–æ–≤** ‚Äî –∑–∞—â–∏—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤
8. **–ò—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** ‚Äî –∞—É–¥–∏—Ç–æ—Ä—Å–∫–∏–π —Å–ª–µ–¥ –æ–ø–µ—Ä–∞—Ü–∏–π

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫—Ä—ã—Ç–∏—è
- **–û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: 57%
- **account_manager.py**: 66%
- **database.py**: 69%
- **models.py**: 69%
- **cli.py**: 33% (–Ω–µ –ø–æ–∫—Ä—ã—Ç, —Ç–∞–∫ –∫–∞–∫ —Ñ–æ–∫—É—Å –Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ)

## –ú—É—Ç–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã mutmut
- **–í—Å–µ–≥–æ –º—É—Ç–∞–Ω—Ç–æ–≤**: 486
- **–£–±–∏—Ç—ã** üéâ: 149 (30.7%)
- **–í—ã–∂–∏–ª–∏** üôÅ: 335 (68.9%)
- **–¢–∞–π–º–∞—É—Ç** ‚è∞: 1 (0.2%)
- **–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ** ü§î: 1 (0.2%)

### –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–æ–≤
–ü–æ–∫–∞–∑–∞—Ç–µ–ª—å —É–±–∏–π—Å—Ç–≤–∞ –º—É—Ç–∞–Ω—Ç–æ–≤ 30.7% —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ, —á—Ç–æ —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–æ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è.

## –ü—Ä–∏–º–µ—Ä—ã –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫

### –û—à–∏–±–∫–∞ 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞
**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**: –í –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –º–µ—Ç–æ–¥–∞ `withdraw()` –±—ã–ª–∞ –æ—à–∏–±–∫–∞ –≤ –ª–æ–≥–∏–∫–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞.

**–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (—Å –æ—à–∏–±–∫–æ–π)**:
```python
def withdraw(self, account_id: int, amount: Decimal, description: str = "") -> bool:
    # ... –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ ...
    
    # –û–®–ò–ë–ö–ê: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
    if account.balance - amount < account.minimum_balance:
        raise ValueError("Insufficient funds")
    
    # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ ...
```

**–ù–∞–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–º**: `test_withdrawal_respects_minimum_balance`
```python
def test_withdrawal_respects_minimum_balance(self, account_manager):
    account = account_manager.create_account(
        customer_name="–ê–ª–µ–∫—Å–µ–π –ö–æ–∑–ª–æ–≤",
        initial_deposit=Decimal('15000.00'),
        minimum_balance=Decimal('2000.00')
    )
    
    # –≠—Ç–æ—Ç —Ç–µ—Å—Ç –≤—ã—è–≤–∏–ª, —á—Ç–æ –º–æ–∂–Ω–æ —Å–Ω—è—Ç—å 14000, –æ—Å—Ç–∞–≤–∏–≤ 1000 –≤–º–µ—Å—Ç–æ —Ç—Ä–µ–±—É–µ–º—ã—Ö 2000
    with pytest.raises(ValueError, match="Insufficient funds"):
        account_manager.withdraw(account.account_id, Decimal('14000.00'))
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```python
# –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–µ—Ç–æ–¥ can_withdraw() –∏–∑ –º–æ–¥–µ–ª–∏ Account
if not account.can_withdraw(amount):
    raise ValueError(f"Insufficient funds. Available: {account.balance - account.minimum_balance} RUB")
```

### –û—à–∏–±–∫–∞ 2: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å—á–µ—Ç–∞ –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–µ
**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**: –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–ª–∞ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å –¥–µ–Ω—å–≥–∏ –Ω–∞ —Ç–æ—Ç –∂–µ —Å—á–µ—Ç, —Å–æ–∑–¥–∞–≤–∞—è —Ñ–∏–∫—Ç–∏–≤–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

**–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (—Å –æ—à–∏–±–∫–æ–π)**:
```python
def transfer(self, from_account_id: int, to_account_id: int, amount: Decimal, description: str = "") -> bool:
    if amount <= 0:
        raise ValueError("Transfer amount must be positive")
    
    # –û–®–ò–ë–ö–ê: –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Å—á–µ—Ç–∞
    from_account = self.db.get_account(from_account_id)
    to_account = self.db.get_account(to_account_id)
    # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ ...
```

**–ù–∞–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–º**: `test_transfer_between_accounts`
```python
def test_transfer_between_accounts(self, account_manager):
    # –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ—Å—Ç–∞ –±—ã–ª–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ, —á—Ç–æ –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∞–º–æ–ø–µ—Ä–µ–≤–æ–¥
    # –î–æ–±–∞–≤–∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ –Ω–∞—á–∞–ª–µ –º–µ—Ç–æ–¥–∞ transfer()
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```python
def transfer(self, from_account_id: int, to_account_id: int, amount: Decimal, description: str = "") -> bool:
    if amount <= 0:
        raise ValueError("Transfer amount must be positive")
    
    # –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞
    if from_account_id == to_account_id:
        raise ValueError("Cannot transfer to the same account")
```

### –û—à–∏–±–∫–∞ 3: –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è —Å—á–µ—Ç–∞ —Å –±–∞–ª–∞–Ω—Å–æ–º
**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**: –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–ª–∞ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å—á–µ—Ç–∞ —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º –±–∞–ª–∞–Ω—Å–æ–º, —á—Ç–æ –º–æ–≥–ª–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ —Å—Ä–µ–¥—Å—Ç–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤.

**–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (—Å –æ—à–∏–±–∫–æ–π)**:
```python
def deactivate_account(self, account_id: int) -> bool:
    account = self.db.get_account(account_id)
    if not account:
        raise ValueError("Account not found")
    
    # –û–®–ò–ë–ö–ê: –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–ª–∞–Ω—Å–∞
    return self.db.deactivate_account(account_id)
```

**–ù–∞–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–º**: `test_account_deactivation_requires_zero_balance`
```python
def test_account_deactivation_requires_zero_balance(self, account_manager):
    account = account_manager.create_account(
        customer_name="–ù–∏–∫–æ–ª–∞–π –°–º–∏—Ä–Ω–æ–≤",
        initial_deposit=Decimal('1500.00')
    )
    
    # –¢–µ—Å—Ç –≤—ã—è–≤–∏–ª, —á—Ç–æ –º–æ–∂–Ω–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å—á–µ—Ç —Å –¥–µ–Ω—å–≥–∞–º–∏
    with pytest.raises(ValueError, match="Cannot deactivate account with non-zero balance"):
        account_manager.deactivate_account(account.account_id)
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```python
def deactivate_account(self, account_id: int) -> bool:
    account = self.db.get_account(account_id)
    if not account:
        raise ValueError("Account not found")
    
    # –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
    if account.balance != Decimal('0.00'):
        raise ValueError("Cannot deactivate account with non-zero balance")
    
    return self.db.deactivate_account(account_id)
```

### –û—à–∏–±–∫–∞ 4: –ù–µ—Ç–æ—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–∞—Ö
**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**: –í –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏ –ø–µ—Ä–µ–≤–æ–¥–∞—Ö –º–µ–∂–¥—É —Å—á–µ—Ç–∞–º–∏ –º–æ–≥–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—Ç—å –æ—à–∏–±–∫–∏ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –∏–∑-–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è float –≤–º–µ—Å—Ç–æ Decimal.

**–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (—Å –æ—à–∏–±–∫–æ–π)**:
```python
def transfer(self, from_account_id: int, to_account_id: int, amount: float, description: str = "") -> bool:
    # –û–®–ò–ë–ö–ê: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ float –¥–ª—è –¥–µ–Ω–µ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
    from_new_balance = from_account.balance - amount
    to_new_balance = to_account.balance + amount
```

**–ù–∞–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–º**: `test_transfer_between_accounts`
```python
def test_transfer_between_accounts(self, account_manager):
    # –¢–µ—Å—Ç —Å —Ç–æ—á–Ω—ã–º–∏ —Å—É–º–º–∞–º–∏ –≤—ã—è–≤–∏–ª –æ—à–∏–±–∫–∏ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è
    assert source_balance == Decimal('17000.00')  # 25000 - 8000
    assert dest_balance == Decimal('13000.00')    # 5000 + 8000
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```python
def transfer(self, from_account_id: int, to_account_id: int, amount: Decimal, description: str = "") -> bool:
    # –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Decimal –¥–ª—è —Ç–æ—á–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤
    if not isinstance(amount, Decimal):
        amount = Decimal(str(amount))
```

### –û—à–∏–±–∫–∞ 5: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Å—á–µ—Ç–∞
**–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**: –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–ª–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—á–µ—Ç–∞–º–∏.

**–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (—Å –æ—à–∏–±–∫–æ–π)**:
```python
def deposit(self, account_id: int, amount: Decimal, description: str = "") -> bool:
    account = self.db.get_account(account_id)
    if not account:
        raise ValueError("Account not found")
    
    # –û–®–ò–ë–ö–ê: –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å—á–µ—Ç–∞
    new_balance = account.balance + amount
    # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ ...
```

**–ù–∞–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–º**: –ü—Ä–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏ —Ç–µ—Å—Ç–æ–≤ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ, —á—Ç–æ –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å—á–µ—Ç–∞.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
```python
def deposit(self, account_id: int, amount: Decimal, description: str = "") -> bool:
    account = self.db.get_account(account_id)
    if not account:
        raise ValueError("Account not found")
    
    # –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    if not account.is_active:
        raise ValueError("Account is not active")
```

## –ê–Ω–∞–ª–∏–∑ –º—É—Ç–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –í—ã–∂–∏–≤—à–∏–µ –º—É—Ç–∞–Ω—Ç—ã –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏–µ

**–ú—É—Ç–∞–Ω—Ç #439-441**: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –Ω–æ–º–µ—Ä–∞ —Å—á–µ—Ç–∞
```python
# –û—Ä–∏–≥–∏–Ω–∞–ª
date_str = datetime.now().strftime("%Y%m%d")
# –ú—É—Ç–∞–Ω—Ç
date_str = datetime.now().strftime("XX%Y%m%dXX")
```
**–ê–Ω–∞–ª–∏–∑**: –≠—Ç–æ—Ç –º—É—Ç–∞–Ω—Ç –≤—ã–∂–∏–ª, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞—à–∏ —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞ —Å—á–µ—Ç–∞. –≠—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∞.

**–ú—É—Ç–∞–Ω—Ç #499**: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
```python
# –û—Ä–∏–≥–∏–Ω–∞–ª
return False
# –ú—É—Ç–∞–Ω—Ç  
return True
```
**–ê–Ω–∞–ª–∏–∑**: –í—ã–∂–∏–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ –º—É—Ç–∞–Ω—Ç–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫.

## –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø–æ–∫—Ä—ã—Ç–∞** ‚Äî –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
2. **–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å** ‚Äî —Ç–µ—Å—Ç—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–µ–Ω–µ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä–∏ —Å—Ä–µ–¥—Å—Ç–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤
4. **–ê—É–¥–∏—Ç–æ—Ä—Å–∫–∏–π —Å–ª–µ–¥** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–¥–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

### –û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è
1. **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –Ω–∞ —Ñ–æ—Ä–º–∞—Ç—ã –Ω–æ–º–µ—Ä–æ–≤ —Å—á–µ—Ç–æ–≤
2. **–ì—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏** ‚Äî —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∞–π–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** ‚Äî –±–æ–ª—å—à–µ —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø** ‚Äî —Ç–µ—Å—Ç—ã –Ω–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**: –í—ã—Å–æ–∫–æ–µ (–≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞**: –°—Ä–µ–¥–Ω–µ–µ (57%)
- **–£–±–∏–π—Å—Ç–≤–æ –º—É—Ç–∞–Ω—Ç–æ–≤**: –£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–µ (30.7%)
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –±–∞–≥–∏**: 0 (–≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã)

### –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–°–∏—Å—Ç–µ–º–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–±–ª–∞—Å—Ç—è—Ö –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π. –¢–µ—Å—Ç—ã —É—Å–ø–µ—à–Ω–æ –≤—ã—è–≤–∏–ª–∏ –∏ –ø–æ–º–æ–≥–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å 5 —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –±—ã –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –ø–æ—Ç–µ—Ä—è–º –∏–ª–∏ –Ω–∞—Ä—É—à–µ–Ω–∏—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –ú—É—Ç–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞–ª–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–æ–≤.